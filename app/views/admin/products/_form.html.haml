.product-form-container
  .product-form-wrapper
    .product-form
      .form-header
        %h2= form_title
      - if !new_product
        .form-actions-bar
          = link_to 'View product', @product, class: 'btn btn-info btn-sm'
          = link_to 'Delete product', admin_products_path(@product), :method => :delete, :data => { :confirm => 'Are you sure?' }, class: 'btn btn-danger btn-sm'
      = simple_form_for([:admin, @product]) do |f|

        - if product.errors.any?
          #error_explanation
            %h2
              = pluralize(product.errors.count, "error")
              prohibited this product from being saved:
            %ul
              - product.errors.full_messages.each do |message|
                %li= message

        .row
          .col-lg-6

            .form-inputs
              .form-group
                = f.input :title, label: 'Product title', input_html: {class: 'form-control'}
              .form-group
                = f.input :price, label: 'Product price', input_html: {class: 'form-control'}
              .form-group
                = f.input :description, label: 'Product description', input_html: {class: 'form-control tinymce', rows: 10}
                = tinymce

          .col-lg-6

            .form-inputs
              .form-group
                = f.association :categories, label: 'Product categories', input_html: {class: 'form-control', id: 'select_product_categories'}
              .form-group
                = f.association :brand, label: 'Product brand', input_html: {class: 'form-control', id: 'select_product_brand'}
              .form-group
                = f.label 'Product image'
                = f.file_field :product_image, value: @product.product_image, input_html: {class: 'form-control'}
              .form-group
                = f.submit 'Save product', class: 'btn btn-primary btn-lg w-50'
      .form-footer
        = link_to 'Back to products page', admin_products_path, class: 'btn btn-primary btn-sm'